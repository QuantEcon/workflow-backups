# Copilot Instructions for workflow-backups

## Project Overview

This is a centralized workflow for backing up QuantEcon repositories to AWS S3. It runs from this single repository and backs up all matching repositories across the organization.

## Development Guidelines

### Documentation Standards

1. **Do NOT create SUMMARY files for changes**
   - Update existing documentation (README.md, CHANGELOG.md, docs/)
   - Maintain a single source of truth

2. **Release notes go in `docs/releases/`**
   - Use version-specific files: `v0.1.0.md`, `v1.0.0.md`
   - Follow semantic versioning

3. **Use `/tmp/` for `gh` CLI outputs**
   - Example: `gh repo list quantecon --json name > /tmp/gh-repos.json`

## Code Standards

### Python
- Follow PEP 8, max line length 100
- Use type hints for function signatures
- Google-style docstrings for public functions
- Explicit imports (no wildcards)

### Testing
- Write tests for new features (>80% coverage)
- Use pytest, mock external services
- Tests go in `tests/` directory

### Error Handling
- Use specific exception types
- Log errors with context
- Fail gracefully with cleanup

## Project-Specific Guidelines

### AWS S3
- Use boto3 for S3 operations
- Verify uploads with checksums
- Support OIDC authentication (recommended)

### GitHub API
- Use PyGithub library
- Respect rate limits
- Handle pagination

### Configuration
- YAML format
- Validate on load
- Document all options

## File Organization

```
workflow-backups/
├── src/
│   ├── backup/          # Backup functionality
│   └── __init__.py
├── tests/
├── docs/
│   ├── releases/
│   └── architecture.md
├── .github/workflows/
├── config.example.yml
├── requirements.txt
├── pyproject.toml
├── CHANGELOG.md
└── README.md
```

## Git Workflow

- Feature branches from `main`
- Update CHANGELOG.md with each PR
- Tag releases with version numbers

## Security

- Never commit credentials
- Use GitHub Secrets for sensitive data
- Prefer OIDC over static AWS credentials
